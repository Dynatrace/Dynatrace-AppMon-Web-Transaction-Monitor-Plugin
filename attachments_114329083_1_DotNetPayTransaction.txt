<invoke url="http://${host}:${port}/" description="DotNetPayHome"/>
<ifStep description="Check .Net Version">
  <condition>
    <verifyElement type="input" text="ctl00_UsernameTextBox" />
  </condition>
  <then>
    <property name="ctlprefix" value="ctl0" description=".Net 2.0" />
  </then>
  <else>
    <property name="ctlprefix" value="_ctl" description=".Net 1.1" />
  </else>
</ifStep>
<testInfo type="Version dependant control prefix" description="${ctlprefix}"/>
<setInputField htmlId="${ctlprefix}0_UsernameTextBox" value="demouser" description="Login"/>
<setInputField htmlId="${ctlprefix}0_PasswordTextBox" value="demopass" description="Login"/>
<clickButton label="Enter" description="Login"/>
<ifStep description="Transfer10K">
	<condition>
		<not>
			<verifyElementText htmlId="${ctlprefix}6_CashLabel" text="\d{5,},\d\d" regex="true" description="VerifyEnoughCash"/>
		</not>
	</condition>
	<then>
		<clickButton htmlId="${ctlprefix}2_CashButton" description="FillCash"/>
		<setInputField htmlId="${ctlprefix}6_AmountTextBox" value="100000" description="FillCash"/>
		<enableJavaScript enable="false" description="FillCash"/>
		<clickButton htmlId="${ctlprefix}6_CashButton" description="FillCash"/>
		<enableJavaScript enable="true" description="FillCash"/>
	</then>
	<else>
		<clickButton label="Overview" description="Transfer10K"/>
		<clickButton label="Credit Transfer" description="Transfer10K"/>
		<setInputField htmlId="${ctlprefix}6_IbanTextBox" value="0003" description="Transfer10K"/>
		<setInputField htmlId="${ctlprefix}6_BicTextBox" value="0003" description="Transfer10K"/>
		<setInputField htmlId="${ctlprefix}6_AmountTextBox" value="10000" description="Transfer10K"/>
		<setInputField htmlId="${ctlprefix}6_DescriptionTextBox" value="Transfer 10T" description="Transfer10K"/>
		<enableJavaScript enable="false" description="Transfer10K"/>
		<clickButton label="Transfer" description="Transfer10K"/>
		<enableJavaScript enable="true" description="Transfer10K"/>
		<clickButton label="Transactions" description="Transfer10K"/>
	</else>
</ifStep>
<clickButton label="Logout" description="Logout"/>